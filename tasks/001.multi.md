This project provides a CLI to run a telegram bot and connect it to a Claude Code instance on a given folder "cwd".

## Multi Project Setup

GOAL:
Turn this into a multi-bot multi-folder project.

CWD:
When running this cli, it should keep looking for "ccpa.config.json" but that configuration should have a different shape:

```json
{
    "globals": {
        "access": {
            "allowedUserIds": []
        },
        "claude": {
            "command": "claude"
        },
        "logging": {
            "level": "info"
        },
        "rateLimit": {
            "max": 10,
            "windowMs": 60000
        }
    },
    "projects": [
        {
            "cwd": "./project1",
            "telegram": {
                "botToken": ""
            },
            "access": {
                "allowedUserIds": []
            },
            "claude": {
                "command": "claude"
            },
            "logging": {
                "level": "info",
                "persist": true,
                "flow": false
            },
            "rateLimit": {
                "max": 10,
                "windowMs": 60000
            }   
        },
        {
            "cwd": "/absolute/path/to/project2",
            "telegram": {
                "botToken": ""
            } 
        },
    ]
}
```

Main differences:

1. The configuration exposes the "projects" key that contains a **LIST** of ccpa configurations as they were before.

2. Each configuration contains the "cwd" mandatory param that is the relative or absolute path to the folder that should be connected to that specific bot.

3. the "logging" has a "persist (boolean)" flag. When "true", the logging should **ALSO** be stored in a file-system under the `.ccpa/{project-slug}/logs/YYYY-MM-DD.txt` file.

4. the "logging" has a "flow (boolean) flag (defaults to true). If the flag is set to false, the logs should not flow to the terminal.

5. the "globals" root config contains ccpa-compatible configs that are meant to be used by all the projects. If a project doesn't define a specific setting, it will be sourced from the "globals", if it's not there, then it will use a default value.

## Mandatory Settings

These two settings must be set for each bot and must be unique.
The CLI should validate the configuration at boot time.

- projects.{n}.cwd
- projects.{n}.telegram.botToken

## Defaults

- globals.claude.command = "claude"
- globals.logging.level = "info"
- globals.logging.flow = true
- globals.logging.persist = false
- globals.rateLimit.max = 10
- globals.rateLimit.windowMs = 60000

## Clarifications

### Project Slug
Each project config may expose an optional `name` field (must be unique across all projects if provided). The project slug is derived as:
1. Use `name` if provided.
2. Otherwise, slugify the `cwd` path: strip leading `./`, replace `/` and `\` with `-` (e.g. `./foo/bar` → `foo-bar`, `/absolute/path/to/project2` → `absolute-path-to-project2`).

The slug is used for log and data paths scoped under the config file location (see below).

The config schema adds an optional `name` field per project:
```json
{
  "projects": [
    {
      "name": "my-project",  // optional, must be unique if provided
      "cwd": "./project1",
      ...
    }
  ]
}
```

### Backward Compatibility
**Clean break.** Only the new multi-project format (with `projects` array) is supported. No auto-detection of old format.

### Multi-Bot Process Model
All bots run concurrently within a **single Node.js process** using `Promise.all`. Config and logger are refactored from global singletons to per-project instances passed explicitly through function arguments.

### Transcription Config
Add `transcription` to `globals` too (alongside `claude`, `rateLimit`). Per-project setting overrides global. Same Zod schema as today.

### `init` Command
Update `init` to generate the new multi-project template: `globals` with all defaults, and a single project entry whose `cwd` is `"."` (the current directory where the command is run).

### `--cwd` CLI Argument
Still determines where to search for `ccpa.config.json`. Each project's `cwd` is resolved relative to the **directory containing the config file** (not the process cwd).

### `dataDir` (User Session Storage)
- Kept as a per-project setting with a fallback to `globals.dataDir`.
- **Relative path** (e.g. `.foo`): resolved relative to that **project's `cwd`**.
- **Absolute path**: used as-is.
- **Empty / omitted**: defaults to `.ccpa/users` relative to the project's `cwd` (same behavior as today).
- **Special value `~`**: resolves to `<config-file-dir>/.ccpa/{project-slug}/data` — co-located with the config, scoped by slug.

### Log Persistence Path
When `logging.persist: true`, logs are written to:
```
<config-file-dir>/.ccpa/{project-slug}/logs/YYYY-MM-DD.txt
```
The `.ccpa` folder is always next to `ccpa.config.json`.

### Startup Error Handling
If any project fails at startup (invalid token, Claude CLI not found, config validation error), **abort the entire process**.

### `logging.flow: false` Scope
`flow: false` suppresses only **bot runtime logs** (message handling, Claude execution, etc.) from the terminal.

Global CLI startup messages (e.g. "Starting project X", "Bot Y is running") are **always shown**, regardless of `flow`.

When a project has `flow: false`, emit a one-time startup notice:
> "Bot {name/slug} has terminal logging suppressed."

If `persist: true` is also set, append:
> "Persisted logs can be read at: {path-to-logs-dir}"

